<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Confirmation | Justice Half Marathon 2025</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Verify your Justice Half Marathon 2025 registration. Search by mobile number or transaction ID to confirm your registration details.">
    <meta name="keywords" content="Justice Half Marathon confirmation, Bangladesh marathon registration verification, Sylhet running event confirmation">
    <meta name="author" content="Army IBA Hiking & Trekking Club, Sylhet">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph (Facebook/Social Media) -->
    <meta property="og:title" content="Registration Confirmation | Justice Half Marathon 2025">
    <meta property="og:description" content="Verify your Justice Half Marathon 2025 registration. Search by mobile number or transaction ID.">
    <meta property="og:image" content="https://justicehalfmarathon.com/photos/marathon.png">
    <meta property="og:url" content="https://justicehalfmarathon.com/confirmation.html">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Registration Confirmation | Justice Half Marathon 2025">
    <meta name="twitter:description" content="Verify your Justice Half Marathon 2025 registration details.">
    <meta name="twitter:image" content="https://justicehalfmarathon.com/photos/marathon.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://justicehalfmarathon.com/confirmation.html">
    <link rel="icon" type="image/png" href="photos/aiba.jpg">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        main: '#005840',
                    },
                },
            },
        }
    </script>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NK9Z5DRC');</script>
    <!-- End Google Tag Manager -->

    <!-- Hotjar Tracking Code -->
    <script>
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:6463281,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        .scale-in { animation: scaleIn 0.3s ease-out; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #005840;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/gtm.ns.html?id=GTM-NK9Z5DRC"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Navigation -->
    <nav class="bg-main text-white p-4 shadow-lg">
        <div class="container mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <img src="photos/aiba.jpg" alt="Army IBA Hiking & Trekking Club Logo" class="h-12 w-12 rounded-full">
                <div>
                    <h1 class="text-xl font-bold">Justice Half Marathon 2025</h1>
                    <p class="text-green-200 text-sm">Registration Confirmation</p>
                </div>
            </div>
            <div class="hidden md:flex space-x-6">
                <a href="index.html" class="hover:text-green-200 transition duration-300">Home</a>
                <a href="register.html" class="hover:text-green-200 transition duration-300">Register</a>
                <a href="confirmation.html" class="text-green-200 font-semibold">Confirmation</a>
                <a href="payment-verification.html" class="hover:text-green-200 transition duration-300">Payment</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-2xl mx-auto">
            <!-- Page Header -->
            <div class="text-center mb-8 fade-in">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Registration Confirmation</h2>
                <p class="text-gray-600">
                    নিবন্ধন যাচাই করুন | Verify your registration details by searching with your mobile number or transaction ID
                </p>
            </div>

            <!-- Search Form -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-8 scale-in">
                <form id="searchForm" class="space-y-4">
                    <div>
                        <label for="searchInput" class="block text-sm font-medium text-gray-700 mb-2">
                            Mobile Number or Transaction ID | মোবাইল নম্বর বা লেনদেন আইডি
                        </label>
                        <input 
                            type="text" 
                            id="searchInput" 
                            placeholder="Enter mobile number or transaction ID | মোবাইল নম্বর বা লেনদেন আইডি লিখুন"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-main focus:border-transparent transition duration-300"
                            required
                        >
                    </div>
                    <button 
                        type="submit" 
                        id="searchBtn"
                        class="w-full bg-main text-white py-3 px-6 rounded-lg hover:bg-green-700 transition duration-300 flex items-center justify-center space-x-2"
                    >
                        <span id="searchBtnText">Search Registration | নিবন্ধন খুঁজুন</span>
                        <div id="loadingSpinner" class="loading-spinner hidden"></div>
                    </button>
                </form>
            </div>

            <!-- Results Container -->
            <div id="resultsContainer" class="hidden"></div>

            <!-- Support Section -->
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 fade-in">
                <h3 class="text-lg font-semibold text-yellow-800 mb-3">
                    Need Help? | সাহায্য প্রয়োজন?
                </h3>
                <p class="text-yellow-700 mb-4">
                    If you can't find your registration or need to make corrections, please contact us:
                    <br>
                    যদি আপনার নিবন্ধন খুঁজে না পান বা সংশোধন করতে চান, আমাদের সাথে যোগাযোগ করুন:
                </p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <a 
                        href="https://docs.google.com/forms/d/e/1FAIpQLSeHw2YZlT-A9y_-dKZwFBgqLYOJX8TcSPbD4GGEObvEgY0Vrw/viewform"
                        target="_blank"
                        class="bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition duration-300 text-center"
                    >
                        Report Issue | সমস্যা রিপোর্ট করুন
                    </a>
                    <a 
                        href="https://docs.google.com/forms/d/e/1FAIpQLSdA9K1wnkW8Z9v6gDqeR8t5i6Q0EFQIoELwNvG6p6jCGjPePQ/viewform"
                        target="_blank"
                        class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-300 text-center"
                    >
                        Correction Request | সংশোধনের অনুরোধ
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-main text-white text-center py-6 mt-12">
        <div class="container mx-auto px-4">
            <p class="mb-2">© 2025 Justice Half Marathon | Army IBA Hiking & Trekking Club, Sylhet</p>
            <p class="text-green-200 text-sm">Making Justice Accessible Through Sports</p>
        </div>
    </footer>

    <script>
        // Configuration
        const CONFIG = {
            // Google Apps Script deployment URL - UPDATED WITH YOUR ACTUAL URL
            API_URL: 'https://script.google.com/macros/s/AKfycbxa6-hycDC9W4Ze6aH-Ja3Wo1amI_nIeqiXhfawWgrBH7Sf25gZ15ses-wtFBYfc1vD/exec',
            
            // Form URLs for support
            ISSUE_FORM_URL: 'https://docs.google.com/forms/d/e/1FAIpQLSeHw2YZlT-A9y_-dKZwFBgqLYOJX8TcSPbD4GGEObvEgY0Vrw/viewform',
            CORRECTION_FORM_URL: 'https://docs.google.com/forms/d/e/1FAIpQLSdA9K1wnkW8Z9v6gDqeR8t5i6Q0EFQIoELwNvG6p6jCGjPePQ/viewform'
        };

        // DOM Elements
        const searchForm = document.getElementById('searchForm');
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        const searchBtnText = document.getElementById('searchBtnText');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const resultsContainer = document.getElementById('resultsContainer');

        // Form submission handler
        searchForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const searchValue = searchInput.value.trim();
            if (!searchValue) {
                alert('অনুগ্রহ করে মোবাইল নম্বর বা লেনদেন আইডি দিন | Please enter mobile number or transaction ID');
                return;
            }
            
            await searchRegistration(searchValue);
        });

        // Search function
        async function searchRegistration(searchValue) {
            // Show loading state
            setLoadingState(true);
            
            try {
                // Check if script URL is configured
                if (CONFIG.API_URL.includes('YOUR_NEW_DEPLOYMENT_URL')) {
                    displayConfigurationMessage();
                    return;
                }
                
                // Determine search type - improved logic
                let searchType;
                if (/^01\d{9}$/.test(searchValue)) {
                    // Bangladesh mobile number format: 01xxxxxxxxx (11 digits)
                    searchType = 'mobile';
                } else {
                    // Anything else is considered transaction ID
                    searchType = 'transaction';
                }
                
                console.log('Search type determined:', searchType, 'for value:', searchValue);
                
                // Try multiple fetch methods
                let response;
                let data;
                
                // Method 1: Form data (most reliable for Google Apps Script)
                try {
                    const formData = new FormData();
                    formData.append('action', 'searchRegistration');
                    formData.append('searchType', searchType);
                    formData.append('searchValue', searchValue);
                    
                    response = await fetch(CONFIG.API_URL, {
                        method: 'POST',
                        body: formData
                    });
                    
                    if (response.ok) {
                        data = await response.json();
                        console.log('Method 1 (FormData) success:', data);
                    } else {
                        throw new Error('Method 1 failed');
                    }
                } catch (error1) {
                    console.log('Method 1 failed, trying Method 2:', error1.message);
                    
                    // Method 2: URL encoded data
                    try {
                        const params = new URLSearchParams({
                            action: 'searchRegistration',
                            searchType: searchType,
                            searchValue: searchValue
                        });
                        
                        response = await fetch(CONFIG.API_URL, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/x-www-form-urlencoded',
                            },
                            body: params
                        });
                        
                        if (response.ok) {
                            data = await response.json();
                            console.log('Method 2 (URLEncoded) success:', data);
                        } else {
                            throw new Error('Method 2 failed');
                        }
                    } catch (error2) {
                        console.log('Method 2 failed, trying Method 3:', error2.message);
                        
                        // Method 3: GET request with parameters
                        try {
                            const getParams = new URLSearchParams({
                                action: 'searchRegistration',
                                searchType: searchType,
                                searchValue: searchValue
                            });
                            
                            response = await fetch(`${CONFIG.API_URL}?${getParams}`, {
                                method: 'GET'
                            });
                            
                            if (response.ok) {
                                data = await response.json();
                                console.log('Method 3 (GET) success:', data);
                            } else {
                                throw new Error('All methods failed');
                            }
                        } catch (error3) {
                            console.log('All methods failed:', error3.message);
                            throw new Error('Failed to connect to server');
                        }
                    }
                }
                
                console.log('Final response status:', response.status);
                console.log('Final response ok:', response.ok);
                console.log('Final response data:', data);
                
                if (data.success && data.data) {
                    displayRegistrationDetails(data.data);
                } else {
                    displayNotFoundMessage(data.message || 'Registration not found');
                }
                
            } catch (error) {
                console.error('Search error:', error);
                console.log('Error type:', typeof error);
                console.log('Error name:', error.name);
                console.log('Error message:', error.message);
                
                displayErrorMessage(getErrorMessage(error));
                
            } finally {
                setLoadingState(false);
            }
        }

        // Helper function to check if string is numeric
        function isNumeric(str) {
            return /^\d+$/.test(str);
        }

        // Get appropriate error message
        function getErrorMessage(error) {
            console.log('Full error:', error);
            if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
                return 'নেটওয়ার্ক সমস্যা। আবার চেষ্টা করুন। | Network issue. Please try again.';
            } else if (error.message.includes('HTTP error')) {
                return 'সার্ভার সমস্যা। আবার চেষ্টা করুন। | Server issue. Please try again.';
            } else if (error.message.includes('CORS')) {
                return 'CORS সমস্যা। Google Apps Script সেটিং চেক করুন। | CORS issue. Check Google Apps Script settings.';
            } else {
                return 'সিস্টেমে সমস্যা হয়েছে। আবার চেষ্টা করুন। | System error. Please try again.';
            }
        }

        // Display configuration message
        function displayConfigurationMessage() {
            const html = `
                <div class="bg-white rounded-lg shadow-lg p-6 fade-in">
                    <div class="text-center">
                        <div class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block mb-4">
                            <i class="fas fa-cog mr-2"></i>
                            Configuration Required | কনফিগারেশন প্রয়োজন
                        </div>
                        
                        <h3 class="text-xl font-bold text-gray-800 mb-4">System Configuration Required</h3>
                        
                        <div class="text-left bg-gray-50 p-4 rounded-lg mb-4">
                            <h4 class="font-semibold mb-2">To enable the confirmation system:</h4>
                            <ol class="list-decimal list-inside space-y-1 text-sm">
                                <li>Deploy the Google Apps Script using <code>google-apps-script-confirmation-updated.js</code></li>
                                <li>Copy the deployment URL</li>
                                <li>Replace <code>YOUR_SCRIPT_ID</code> in CONFIG with the actual URL</li>
                                <li>Update the Google Sheets ID in the Apps Script file</li>
                                <li>Test the connection</li>
                            </ol>
                        </div>
                        
                        <p class="text-gray-600 mb-6">
                            সিস্টেম কনফিগার করা হয়নি। Google Apps Script deploy করে URL আপডেট করুন।
                            <br>
                            System not configured. Deploy Google Apps Script and update URL.
                        </p>
                        
                        <div class="space-y-3">
                            <button 
                                onclick="clearResults()" 
                                class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-300"
                            >
                                OK | ঠিক আছে
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            resultsContainer.innerHTML = html;
            resultsContainer.classList.remove('hidden');
            resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Display registration details
        function displayRegistrationDetails(registration) {
            const html = `
                <div class="bg-white rounded-lg shadow-lg p-6 fade-in">
                    <div class="text-center mb-6">
                        <div class="bg-green-100 text-green-800 px-4 py-2 rounded-full inline-block mb-4">
                            <i class="fas fa-check-circle mr-2"></i>
                            Registration Found | নিবন্ধন পাওয়া গেছে
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800">Registration Details</h3>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="space-y-4">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">Name | নাম</label>
                                <p class="text-lg font-semibold text-gray-800">${registration.name || 'N/A'}</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">Serial Number | সিরিয়াল নম্বর</label>
                                <p class="text-lg font-semibold text-gray-800">${registration.serialNumber || 'Pending'}</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">Mobile | মোবাইল</label>
                                <p class="text-lg font-semibold text-gray-800">${registration.mobile || 'N/A'}</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">Email | ইমেইল</label>
                                <p class="text-lg font-semibold text-gray-800">${registration.email || 'N/A'}</p>
                            </div>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">T-Shirt Size | টি-শার্ট সাইজ</label>
                                <p class="text-lg font-semibold text-gray-800">${registration.tshirtSize || 'N/A'}</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">Payment Status | পেমেন্ট স্ট্যাটাস</label>
                                <p class="text-lg font-semibold ${(registration.paymentStatus === 'Confirmed' || registration.paymentStatus === 'Confirm') ? 'text-green-600' : 'text-yellow-600'}">
                                    ${registration.paymentStatus || 'Pending'}
                                </p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">Correction Status | সংশোধনের অবস্থা</label>
                                <p class="text-lg font-semibold text-gray-800">${registration.correctionStatus || 'No Change Request'}</p>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <label class="block text-sm font-medium text-gray-600 mb-1">Comments | মন্তব্য</label>
                                <p class="text-lg font-semibold text-gray-800">${registration.comment || 'No comments'}</p>
                            </div>
                        </div>
                    </div>
                    
                    ${registration.correctionStatus && registration.correctionStatus !== 'No Change Request' ? `
                        <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                            <h4 class="font-semibold text-blue-800 mb-2">Correction Status | সংশোধনের অবস্থা</h4>
                            <p class="text-blue-700">${registration.correctionStatus}</p>
                            ${registration.comment && registration.comment !== 'No comments' ? `
                                <p class="text-blue-600 text-sm mt-2">Comment: ${registration.comment}</p>
                            ` : ''}
                        </div>
                    ` : ''}
                    
                    ${registration.paymentStatus !== 'Confirmed' ? `
                        <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <p class="text-yellow-800">
                                <i class="fas fa-exclamation-triangle mr-2"></i>
                                Payment verification pending. Please complete payment if not done yet.
                                <br>
                                পেমেন্ট যাচাইকরণ বাকি। যদি পেমেন্ট না করে থাকেন তাহলে দ্রুত সম্পন্ন করুন।
                            </p>
                        </div>
                    ` : `
                        <div class="mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
                            <p class="text-green-800">
                                <i class="fas fa-check-circle mr-2"></i>
                                Your registration is confirmed! You will receive your BIB and race kit during the packet pickup.
                                <br>
                                আপনার নিবন্ধন নিশ্চিত! প্যাকেট পিকআপের সময় আপনি আপনার BIB এবং রেস কিট পাবেন।
                            </p>
                        </div>
                    `}
                </div>
            `;
            
            resultsContainer.innerHTML = html;
            resultsContainer.classList.remove('hidden');
            resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Display not found message
        function displayNotFoundMessage(backendMessage = null) {
            const html = `
                <div class="bg-white rounded-lg shadow-lg p-6 fade-in">
                    <div class="text-center">
                        <div class="bg-red-100 text-red-800 px-4 py-2 rounded-full inline-block mb-4">
                            <i class="fas fa-times-circle mr-2"></i>
                            নিবন্ধন পাওয়া যায়নি | Registration Not Found
                        </div>
                        
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Registration Not Found</h3>
                        
                        <p class="text-gray-600 mb-6">
                            ${backendMessage && backendMessage.includes('নিবন্ধন পাওয়া যায়নি') ? 
                                backendMessage + ' | No registration found for the provided information.' :
                                'আপনার দেয়া তথ্যের সাথে কোনো নিবন্ধন পাওয়া যায়নি। অনুগ্রহ করে সঠিক মোবাইল নম্বর বা লেনদেন আইডি দিয়ে আবার চেষ্টা করুন।'
                            }
                            <br><br>
                            We couldn't find any registration with the provided information. Please double-check your mobile number or transaction ID and try again.
                        </p>
                        
                        <div class="space-y-3">
                            <button 
                                onclick="clearResults()" 
                                class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-300"
                            >
                                Try Again | আবার চেষ্টা করুন
                            </button>
                            
                            <div class="flex flex-col sm:flex-row gap-3 justify-center">
                                <a 
                                    href="${CONFIG.ISSUE_FORM_URL}"
                                    target="_blank"
                                    class="bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition duration-300"
                                >
                                    Report Issue | সমস্যা রিপোর্ট করুন
                                </a>
                                <a 
                                    href="register.html"
                                    class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition duration-300"
                                >
                                    Register Now | এখনই নিবন্ধন করুন
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            resultsContainer.innerHTML = html;
            resultsContainer.classList.remove('hidden');
            resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Display error message
        function displayErrorMessage(message) {
            const html = `
                <div class="bg-white rounded-lg shadow-lg p-6 fade-in">
                    <div class="text-center">
                        <div class="bg-red-100 text-red-800 px-4 py-2 rounded-full inline-block mb-4">
                            <i class="fas fa-exclamation-triangle mr-2"></i>
                            System Error | সিস্টেম ত্রুটি
                        </div>
                        
                        <h3 class="text-xl font-bold text-gray-800 mb-4">System Error</h3>
                        
                        <p class="text-gray-600 mb-6">${message}</p>
                        
                        <div class="space-y-3">
                            <button 
                                onclick="clearResults()" 
                                class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-300"
                            >
                                Try Again | আবার চেষ্টা করুন
                            </button>
                            
                            <a 
                                href="${CONFIG.ISSUE_FORM_URL}"
                                target="_blank"
                                class="inline-block bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition duration-300"
                            >
                                Report Technical Issue | টেকনিক্যাল সমস্যা রিপোর্ট করুন
                            </a>
                        </div>
                    </div>
                </div>
            `;
            
            resultsContainer.innerHTML = html;
            resultsContainer.classList.remove('hidden');
            resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Set loading state
        function setLoadingState(isLoading) {
            if (isLoading) {
                searchBtn.disabled = true;
                searchBtnText.textContent = 'Searching... | খোঁজ করা হচ্ছে...';
                loadingSpinner.classList.remove('hidden');
            } else {
                searchBtn.disabled = false;
                searchBtnText.textContent = 'Search Registration | নিবন্ধন খুঁজুন';
                loadingSpinner.classList.add('hidden');
            }
        }

        // Clear results
        function clearResults() {
            resultsContainer.classList.add('hidden');
            resultsContainer.innerHTML = '';
            searchInput.value = '';
            searchInput.focus();
        }

        // Auto-focus search input on page load
        window.addEventListener('load', function() {
            searchInput.focus();
        });
    </script>

    <!-- Font Awesome for icons -->
    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
</body>
</html>
