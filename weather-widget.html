<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Widget | Justice Half Marathon 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .weather-gradient { background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); }
        .weather-card { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="bg-gray-100 p-4">

    <!-- Weather Widget Component -->
    <div class="max-w-md mx-auto">
        <div class="weather-gradient rounded-2xl p-6 text-white shadow-2xl">
            
            <!-- Header -->
            <div class="text-center mb-4">
                <h3 class="text-xl font-bold flex items-center justify-center gap-2">
                    ğŸŒ¤ï¸ Event Day Weather
                </h3>
                <p class="text-white/80 text-sm">September 26, 2025 â€¢ Sylhet</p>
            </div>
            
            <!-- Main Weather Display -->
            <div class="weather-card rounded-xl p-4 mb-4">
                <div class="flex items-center justify-between">
                    <div>
                        <div class="text-4xl font-bold" id="temperature">28Â°C</div>
                        <div class="text-white/90" id="condition">Partly Cloudy</div>
                        <div class="text-white/70 text-sm" id="feelsLike">Feels like 31Â°C</div>
                    </div>
                    <div class="text-6xl" id="weatherIcon">â›…</div>
                </div>
            </div>
            
            <!-- Weather Details -->
            <div class="grid grid-cols-2 gap-3 mb-4">
                <div class="weather-card rounded-lg p-3 text-center">
                    <div class="text-2xl mb-1">ğŸ’§</div>
                    <div class="text-sm text-white/80">Rain Chance</div>
                    <div class="font-semibold" id="rainChance">15%</div>
                </div>
                
                <div class="weather-card rounded-lg p-3 text-center">
                    <div class="text-2xl mb-1">ğŸ’¨</div>
                    <div class="text-sm text-white/80">Wind Speed</div>
                    <div class="font-semibold" id="windSpeed">8 km/h</div>
                </div>
                
                <div class="weather-card rounded-lg p-3 text-center">
                    <div class="text-2xl mb-1">ğŸ’¦</div>
                    <div class="text-sm text-white/80">Humidity</div>
                    <div class="font-semibold" id="humidity">65%</div>
                </div>
                
                <div class="weather-card rounded-lg p-3 text-center">
                    <div class="text-2xl mb-1">ğŸ‘ï¸</div>
                    <div class="text-sm text-white/80">Visibility</div>
                    <div class="font-semibold" id="visibility">10 km</div>
                </div>
            </div>
            
            <!-- Hourly Forecast -->
            <div class="weather-card rounded-xl p-4 mb-4">
                <h4 class="font-semibold mb-3 text-center">ğŸ• Race Day Hourly Forecast</h4>
                <div class="grid grid-cols-4 gap-2 text-center text-sm">
                    <div>
                        <div class="text-white/80">6:00 AM</div>
                        <div class="text-xl">ğŸŒ…</div>
                        <div class="font-semibold">26Â°C</div>
                    </div>
                    <div>
                        <div class="text-white/80">8:00 AM</div>
                        <div class="text-xl">â˜€ï¸</div>
                        <div class="font-semibold">28Â°C</div>
                    </div>
                    <div>
                        <div class="text-white/80">10:00 AM</div>
                        <div class="text-xl">â›…</div>
                        <div class="font-semibold">30Â°C</div>
                    </div>
                    <div>
                        <div class="text-white/80">12:00 PM</div>
                        <div class="text-xl">â˜€ï¸</div>
                        <div class="font-semibold">32Â°C</div>
                    </div>
                </div>
            </div>
            
            <!-- Weather Advice -->
            <div class="weather-card rounded-xl p-4">
                <h4 class="font-semibold mb-2 flex items-center gap-2">
                    ğŸ’¡ Running Advice
                </h4>
                <div class="space-y-2 text-sm">
                    <div class="flex items-center gap-2">
                        <span class="text-green-300">âœ“</span>
                        <span>Perfect temperature for running</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-green-300">âœ“</span>
                        <span>Low rain probability</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-yellow-300">âš ï¸</span>
                        <span>Stay hydrated - moderate humidity</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-blue-300">ğŸ’§</span>
                        <span>Drink water every 2km</span>
                    </div>
                </div>
            </div>
            
            <!-- Last Updated -->
            <div class="text-center mt-4 text-white/60 text-xs">
                Last updated: <span id="lastUpdated"></span>
            </div>
            
        </div>
    </div>

    <script>
        // Weather data simulation (replace with real API)
        const weatherData = {
            temperature: 28,
            condition: "Partly Cloudy",
            feelsLike: 31,
            rainChance: 15,
            windSpeed: 8,
            humidity: 65,
            visibility: 10,
            icon: "â›…"
        };
        
        // Update weather display
        function updateWeatherDisplay() {
            document.getElementById('temperature').textContent = `${weatherData.temperature}Â°C`;
            document.getElementById('condition').textContent = weatherData.condition;
            document.getElementById('feelsLike').textContent = `Feels like ${weatherData.feelsLike}Â°C`;
            document.getElementById('rainChance').textContent = `${weatherData.rainChance}%`;
            document.getElementById('windSpeed').textContent = `${weatherData.windSpeed} km/h`;
            document.getElementById('humidity').textContent = `${weatherData.humidity}%`;
            document.getElementById('visibility').textContent = `${weatherData.visibility} km`;
            document.getElementById('weatherIcon').textContent = weatherData.icon;
            
            // Update timestamp
            const now = new Date();
            document.getElementById('lastUpdated').textContent = now.toLocaleString('bn-BD');
        }
        
        // Simulate weather updates
        function simulateWeatherChanges() {
            // Small random variations
            weatherData.temperature += (Math.random() - 0.5) * 2;
            weatherData.humidity += (Math.random() - 0.5) * 10;
            weatherData.windSpeed += (Math.random() - 0.5) * 3;
            
            // Keep values in realistic ranges
            weatherData.temperature = Math.max(25, Math.min(35, weatherData.temperature));
            weatherData.humidity = Math.max(40, Math.min(90, weatherData.humidity));
            weatherData.windSpeed = Math.max(2, Math.min(15, weatherData.windSpeed));
            
            // Update feels like temperature
            weatherData.feelsLike = Math.round(weatherData.temperature + (weatherData.humidity / 100) * 3);
            
            updateWeatherDisplay();
        }
        
        // Initialize
        updateWeatherDisplay();
        
        // Update every 10 minutes
        setInterval(simulateWeatherChanges, 600000);
        
        // Real Weather API Integration (uncomment to use)
        /*
        async function fetchRealWeather() {
            try {
                // Replace with your weather API key and coordinates for Sylhet
                const API_KEY = 'your_api_key_here';
                const lat = 24.8949; // Sylhet latitude
                const lon = 91.8687; // Sylhet longitude
                
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`
                );
                
                const data = await response.json();
                
                // Update weather data from API
                weatherData.temperature = Math.round(data.main.temp);
                weatherData.feelsLike = Math.round(data.main.feels_like);
                weatherData.humidity = data.main.humidity;
                weatherData.windSpeed = Math.round(data.wind.speed * 3.6); // Convert m/s to km/h
                weatherData.visibility = Math.round(data.visibility / 1000); // Convert m to km
                weatherData.condition = data.weather[0].description;
                
                // Map weather icons
                const iconMap = {
                    '01d': 'â˜€ï¸', '01n': 'ğŸŒ™',
                    '02d': 'â›…', '02n': 'â˜ï¸',
                    '03d': 'â˜ï¸', '03n': 'â˜ï¸',
                    '04d': 'â˜ï¸', '04n': 'â˜ï¸',
                    '09d': 'ğŸŒ§ï¸', '09n': 'ğŸŒ§ï¸',
                    '10d': 'ğŸŒ¦ï¸', '10n': 'ğŸŒ¦ï¸',
                    '11d': 'â›ˆï¸', '11n': 'â›ˆï¸',
                    '13d': 'â„ï¸', '13n': 'â„ï¸',
                    '50d': 'ğŸŒ«ï¸', '50n': 'ğŸŒ«ï¸'
                };
                
                weatherData.icon = iconMap[data.weather[0].icon] || 'ğŸŒ¤ï¸';
                
                updateWeatherDisplay();
                
            } catch (error) {
                console.error('Weather API error:', error);
                // Fall back to simulated data
            }
        }
        
        // Fetch real weather every 30 minutes
        // fetchRealWeather();
        // setInterval(fetchRealWeather, 1800000);
        */
        
    </script>

</body>
</html>
